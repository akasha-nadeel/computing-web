<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Faculty of Computing Resource Library - SUSL">
    <title>Resource Library | SUSL Computing</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Oswald:wght@300;400;500;600;700&family=Poppins:wght@400;500;600;700&display=swap"
        rel="stylesheet">

    <!-- Styles -->
    <link rel="stylesheet" href="css/styles.css">


</head>

<body>

    <!-- Navigation -->
    <header class="header">
        <div class="container">
            <nav class="navbar">
                <a href="index.html" class="logo">
                    <svg width="40" height="40" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"
                        style="color: var(--accent-orange);">
                        <path d="M12 3L20 9L12 15L4 9L12 3Z" fill="currentColor" />
                        <path d="M4 14L12 20L20 14" stroke="currentColor" stroke-width="3" stroke-linecap="round"
                            stroke-linejoin="round" />
                    </svg> FOC
                </a>
                <ul class="nav-menu" id="navMenu">
                    <li><a href="#home" class="nav-link active">Home</a></li>
                    <li><a href="#departments" class="nav-link">Departments</a></li>
                    <li><a href="#about" class="nav-link">About</a></li>
                    <li><a href="#contact" class="nav-link">Contact</a></li>
                    <li><a href="pages/upload.html" class="nav-link nav-cta">Upload</a></li>
                </ul>
                <div class="hamburger" id="hamburger" aria-label="Toggle menu" role="button" tabindex="0">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section id="home" class="hero">
        <div class="hero-content">
            <h1><span style="color: var(--accent-orange); opacity: 0.95;">The</span> <span
                    style="color: var(--accent-orange); opacity: 0.85;">Library</span></h1>
            <p class="hero-subtitle">Access lecture notes, past papers<br>and study materials for the<br>Faculty of
                Computing.</p>
            <a href="#departments" class="btn-worky">Explore Resources</a>
        </div>
    </section>

    <!-- Detailed Stats Bar -->
    <div style="background: var(--bg-dark); border-bottom: 1px solid rgba(255, 255, 255, 0.05); padding: 40px 0;">
        <div class="container">
            <div
                style="background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.15); border-radius: 12px; padding: 30px; text-align: center;">
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 20px;">
                    <div>
                        <div id="statTotal"
                            style="font-size: 2.5rem; font-weight: 700; color: #FFFFFF; margin-bottom: 5px; font-family: 'Oswald', sans-serif;">
                            0</div>
                        <div
                            style="color: var(--text-gray); font-size: 0.8rem; text-transform: uppercase; letter-spacing: 1px; font-weight: 500;">
                            Total Resources</div>
                    </div>
                    <div>
                        <div id="statNotes"
                            style="font-size: 2.5rem; font-weight: 700; color: #FFFFFF; margin-bottom: 5px; font-family: 'Oswald', sans-serif;">
                            0</div>
                        <div
                            style="color: var(--text-gray); font-size: 0.8rem; text-transform: uppercase; letter-spacing: 1px; font-weight: 500;">
                            Lecture Notes</div>
                    </div>
                    <div>
                        <div id="statSlides"
                            style="font-size: 2.5rem; font-weight: 700; color: #FFFFFF; margin-bottom: 5px; font-family: 'Oswald', sans-serif;">
                            0</div>
                        <div
                            style="color: var(--text-gray); font-size: 0.8rem; text-transform: uppercase; letter-spacing: 1px; font-weight: 500;">
                            Presentations</div>
                    </div>
                    <div>
                        <div id="statPapers"
                            style="font-size: 2.5rem; font-weight: 700; color: #FFFFFF; margin-bottom: 5px; font-family: 'Oswald', sans-serif;">
                            0</div>
                        <div
                            style="color: var(--text-gray); font-size: 0.8rem; text-transform: uppercase; letter-spacing: 1px; font-weight: 500;">
                            Past Papers</div>
                    </div>
                    <div>
                        <div id="statLabs"
                            style="font-size: 2.5rem; font-weight: 700; color: #FFFFFF; margin-bottom: 5px; font-family: 'Oswald', sans-serif;">
                            0</div>
                        <div
                            style="color: var(--text-gray); font-size: 0.8rem; text-transform: uppercase; letter-spacing: 1px; font-weight: 500;">
                            Lab Sheets</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Departments Section -->
    <section id="departments" class="section">
        <div class="container">
            <div class="section-header">
                <h2>Departments</h2>
                <p>Explore specialized resources for Information Systems, Software Engineering, and Data Science.</p>
            </div>

            <div class="card-grid">
                <!-- IS Card -->
                <a href="pages/information-systems.html" class="dept-card">
                    <div class="dept-icon">
                        <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect>
                            <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path>
                        </svg>
                    </div>
                    <h3>Information Systems</h3>
                    <p>Business processes, enterprise systems, and digital transformation resources.</p>
                    <div class="dept-stats">
                        <div class="stat-item">
                            <span id="isResourceCount">120+</span>
                            <label>Resources</label>
                        </div>
                        <div class="stat-item">
                            <span>8</span>
                            <label>Courses</label>
                        </div>
                    </div>
                </a>

                <!-- SE Card -->
                <a href="pages/software-engineering.html" class="dept-card">
                    <div class="dept-icon">
                        <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <polyline points="16 18 22 12 16 6"></polyline>
                            <polyline points="8 6 2 12 8 18"></polyline>
                        </svg>
                    </div>
                    <h3>Software Engineering</h3>
                    <p>Programming, algorithms, and software architecture materials.</p>
                    <div class="dept-stats">
                        <div class="stat-item">
                            <span id="seResourceCount">150+</span>
                            <label>Resources</label>
                        </div>
                        <div class="stat-item">
                            <span>8</span>
                            <label>Courses</label>
                        </div>
                    </div>
                </a>

                <!-- DS Card -->
                <a href="pages/data-science.html" class="dept-card">
                    <div class="dept-icon">
                        <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <line x1="12" y1="20" x2="12" y2="10"></line>
                            <line x1="18" y1="20" x2="18" y2="4"></line>
                            <line x1="6" y1="20" x2="6" y2="16"></line>
                        </svg>
                    </div>
                    <h3>Data Science</h3>
                    <p>Machine learning, big data analytics, and AI study guides.</p>
                    <div class="dept-stats">
                        <div class="stat-item">
                            <span id="dsResourceCount">90+</span>
                            <label>Resources</label>
                        </div>
                        <div class="stat-item">
                            <span>8</span>
                            <label>Courses</label>
                        </div>
                    </div>
                </a>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="section about-section">
        <div class="container">
            <div class="section-header">
                <h2>About</h2>
                <p>Your trusted academic resource platform at Sabaragamuwa University</p>
            </div>

            <div style="max-width: 1000px; margin: 0 auto;">
                <!-- Mission Statement -->
                <div class="mission-statement">
                    <p class="mission-text">
                        Welcome to the Faculty of Computing's centralized digital knowledge hub.
                        Designed to bridge the gap between resources and results, this platform empowers students with
                        instant access to curated lecture materials, past papers, and collaborative study aids.
                        Whether you are catching up on lectures or preparing for finals, we are here to streamline your
                        academic journey at Sabaragamuwa University.
                    </p>
                </div>

                <!-- Key Features Grid -->
                <!-- Key Features Grid -->
                <div class="features-grid">
                    <!-- Feature 1 -->
                    <div class="feature-card">
                        <div class="feature-icon">
                            <svg width="50" height="50" viewBox="0 0 24 24" fill="none" stroke-width="2">
                                <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                                <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                            </svg>
                        </div>
                        <h3 class="feature-title">Comprehensive Resources</h3>
                        <p class="feature-text">
                            Access curated materials across all computing disciplines, organized by department and
                            semester.
                        </p>
                    </div>

                    <!-- Feature 2 -->
                    <div class="feature-card">
                        <div class="feature-icon">
                            <svg width="50" height="50" viewBox="0 0 24 24" fill="none" stroke-width="2">
                                <circle cx="11" cy="11" r="8"></circle>
                                <path d="m21 21-4.35-4.35"></path>
                            </svg>
                        </div>
                        <h3 class="feature-title">Easy Discovery</h3>
                        <p class="feature-text">
                            Find what you need quickly with our intuitive search, filtering, and categorization system.
                        </p>
                    </div>

                    <!-- Feature 3 -->
                    <div class="feature-card">
                        <div class="feature-icon">
                            <svg width="50" height="50" viewBox="0 0 24 24" fill="none" stroke-width="2">
                                <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path>
                                <circle cx="9" cy="7" r="4"></circle>
                                <path d="M22 21v-2a4 4 0 0 0-3-3.87"></path>
                                <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                            </svg>
                        </div>
                        <h3 class="feature-title">Community Driven</h3>
                        <p class="feature-text">
                            Built by students, for students. Contribute your notes and help your peers succeed.
                        </p>
                    </div>
                </div>


            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="section" style="padding: 40px 0;">
        <div class="container">
            <div class="section-header" style="margin-bottom: 30px;">
                <h2>Contact Us</h2>
                <p>Have questions or suggestions? Get in touch with us.</p>
            </div>

            <div style="max-width: 600px; margin: 0 auto;">
                <div
                    style="background: var(--bg-card); padding: 25px; border-radius: 12px; border: 1px solid var(--border-color);">
                    <form action="https://formspree.io/f/xykkyovd" method="POST" style="display: grid; gap: 15px;">
                        <div class="form-group" style="margin-bottom: 0;">
                            <label class="form-label"
                                style="display: block; margin-bottom: 6px; color: var(--text-gray);">Name</label>
                            <input type="text" name="name" required class="form-input" placeholder="Your Name"
                                style="width: 100%; padding: 10px; background: var(--bg-darker); border: 1px solid var(--border-color); border-radius: 8px; color: var(--text-white);">
                        </div>
                        <div class="form-group" style="margin-bottom: 0;">
                            <label class="form-label"
                                style="display: block; margin-bottom: 6px; color: var(--text-gray);">Email</label>
                            <input type="email" name="email" required class="form-input" placeholder="Your Email"
                                style="width: 100%; padding: 10px; background: var(--bg-darker); border: 1px solid var(--border-color); border-radius: 8px; color: var(--text-white);">
                        </div>
                        <div class="form-group" style="margin-bottom: 0;">
                            <label class="form-label"
                                style="display: block; margin-bottom: 6px; color: var(--text-gray);">Message</label>
                            <textarea name="message" required class="form-input" rows="3" placeholder="How can we help?"
                                style="width: 100%; padding: 10px; background: var(--bg-darker); border: 1px solid var(--border-color); border-radius: 8px; color: var(--text-white); resize: vertical;"></textarea>
                        </div>
                        <button type="submit" class="btn-worky"
                            style="justify-self: start; border: 2px solid var(--accent-orange); cursor: pointer; padding: 10px 20px;">Send
                            Message</button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div>
                    <a href="#" class="logo" style="font-size: 1.2rem; margin-bottom: 20px; display: inline-block;">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor"
                            style="color: var(--accent-orange);">
                            <path
                                d="M11.99 18.54l-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27-7.38 5.74zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27L12 16z">
                            </path>
                        </svg> FOC
                    </a>
                    </svg> FOC
                    </a>
                    <p style="color: #b3b3b3; font-size: 0.9rem;">
                        Faculty of Computing Resource Library.<br>
                        Sabaragamuwa University of Sri Lanka.
                    </p>
                </div>
                <div>
                    <h4>Departments</h4>
                    <ul class="footer-links">
                        <li><a href="pages/information-systems.html">Information Systems</a></li>
                        <li><a href="pages/software-engineering.html">Software Engineering</a></li>
                        <li><a href="pages/data-science.html">Data Science</a></li>
                    </ul>
                </div>
                <div>
                    <h4>Quick Links</h4>
                    <ul class="footer-links">
                        <li><a href="pages/upload.html">Upload Resource</a></li>
                        <li><a href="#about">About Us</a></li>
                        <li><a href="#contact">Contact Us</a></li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                &copy; 2024 Faculty of Computing, SUSL. All rights reserved.
            </div>
        </div>
    </footer>

    <!-- Optimized Hero Scroll Animation Script -->
    <script>
        const heroConfig = {
            frameCount: 240,
            currentFrame: i => `hero-images/ezgif-frame-${(i + 1).toString().padStart(3, '0')}.jpg`
        };

        const canvas = document.getElementById('hero-canvas');
        const ctx = canvas.getContext('2d', { alpha: false, desynchronized: true });
        const heroContent = document.getElementById('heroContent');
        const heroLoading = document.getElementById('heroLoading');

        let currentFrame = -1;
        const images = new Array(heroConfig.frameCount);
        let loadedCount = 0;

        // Animation State
        let targetProgress = 0;
        let currentProgress = 0;
        const smoothness = 0.08; // Adjust for smoother (lower) or snappier (higher) feel

        // Optimized canvas sizing
        function resizeCanvas() {
            const dpr = Math.min(window.devicePixelRatio || 1, 2);
            const w = window.innerWidth;
            const h = window.innerHeight;
            canvas.width = w * dpr;
            canvas.height = h * dpr;
            canvas.style.width = w + 'px';
            canvas.style.height = h + 'px';
            ctx.scale(dpr, dpr);
            if (currentFrame >= 0) drawFrame(currentFrame);
        }
        window.addEventListener('resize', resizeCanvas);
        resizeCanvas();

        // Priority loading logic
        const keyFrames = [0, 15, 30, 45, 60, 80, 100, 120, 150, 180, 210, 239];

        function loadImage(i) {
            if (images[i]) return;
            const img = new Image();
            img.onload = () => {
                loadedCount++;
                if (loadedCount === 1) {
                    heroLoading.style.display = 'none';
                    // Force a draw on first load if we haven't started
                    if (currentFrame < 0) drawFrame(0);
                }
            };
            img.src = heroConfig.currentFrame(i);
            images[i] = img;
        }

        // Start loading
        keyFrames.forEach(i => loadImage(i));

        // Lazy load the rest
        setTimeout(() => {
            for (let i = 0; i < heroConfig.frameCount; i++) {
                if (!images[i]) loadImage(i);
            }
        }, 100);

        function drawFrame(index) {
            const img = images[index];

            // Smart fallback if frame isn't loaded: search neighbors
            if (!img || !img.complete) {
                for (let d = 1; d < 20; d++) {
                    if (images[index + d]?.complete) return drawFrame(index + d);
                    if (images[index - d]?.complete) return drawFrame(index - d);
                }
                return;
            }

            const dpr = Math.min(window.devicePixelRatio || 1, 2);
            const w = canvas.width / dpr;
            const h = canvas.height / dpr;

            // Cover fit calculation
            const scale = Math.max(w / img.width, h / img.height);
            const x = (w - img.width * scale) / 2;
            const y = (h - img.height * scale) / 2;

            ctx.clearRect(0, 0, w, h);
            ctx.drawImage(img, x, y, img.width * scale, img.height * scale);
        }

        // Render Loop for Smoothness
        function render() {
            // Linear Interpolation (Lerp)
            currentProgress += (targetProgress - currentProgress) * smoothness;

            // Round to nearest frame index
            const frameIndex = Math.round(currentProgress * (heroConfig.frameCount - 1));
            const safeFrame = Math.max(0, Math.min(heroConfig.frameCount - 1, frameIndex));

            if (safeFrame !== currentFrame) {
                currentFrame = safeFrame;
                drawFrame(safeFrame);
            }

            // Sync content fade
            const fade = currentProgress > 0.6 ? (currentProgress - 0.6) / 0.4 : 0;
            heroContent.style.opacity = Math.max(0, 1 - fade * 1.5);
            heroContent.style.transform = `translate3d(0, ${fade * 30}px, 0)`;

            requestAnimationFrame(render);
        }

        // Start animation loop
        render();

        // Scroll Handler - lightweight, just updates target
        function onScroll() {
            const container = document.querySelector('.hero-scroll-container');
            if (!container) return;

            const maxScroll = container.offsetHeight - window.innerHeight;
            if (maxScroll <= 0) return;

            const scrollY = window.pageYOffset;
            const progress = Math.max(0, Math.min(1, scrollY / maxScroll));

            targetProgress = progress;
        }

        window.addEventListener('scroll', onScroll, { passive: true });
        // Initial check
        onScroll();
    </script>

    <!-- Download Confirmation Modal -->
    <div id="downloadModal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-icon">
                    <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                        <polyline points="7 10 12 15 17 10"></polyline>
                        <line x1="12" y1="15" x2="12" y2="3"></line>
                    </svg>
                </div>
                <h3>Confirm Download</h3>
                <button class="modal-close" onclick="closeDownloadModal()">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <p>Are you ready to download <strong id="downloadFileName" style="color: var(--text-white);">this
                        file</strong>?</p>
                <div class="file-summary" id="downloadFileDetails">
                    <!-- Details will be injected via JS -->
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" onclick="closeDownloadModal()">Cancel</button>
                <button class="btn-primary" id="confirmDownloadBtn">Download Now</button>
            </div>
        </div>
    </div>

    <!-- Preview Modal -->
    <div id="viewModal" class="modal-overlay">
        <div class="modal-content modal-lg">
            <div class="modal-header">
                <h3 id="viewModalTitle">Resource Preview</h3>
                <button class="modal-close" onclick="closeViewModal()">Ã—</button>
            </div>
            <div class="modal-body p-0">
                <div class="preview-container">
                    <div class="preview-placeholder">
                        <div class="preview-icon">ðŸ“„</div>
                        <h4>Preview Unavailable</h4>
                        <p>This is a simulated preview for:</p>
                        <p class="preview-filename" id="viewModalFilename">filename.pdf</p>
                        <button class="btn-primary mt-3" id="viewModalDownloadBtn">Download File</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Contact Success Modal -->
    <div id="contactSuccessModal" class="modal-overlay">
        <div class="modal-content" style="text-align: center; padding: 40px;">
            <div
                style="width: 70px; height: 70px; background: rgba(76, 175, 80, 0.1); color: #4CAF50; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 20px;">
                <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                    <polyline points="22 4 12 14.01 9 11.01"></polyline>
                </svg>
            </div>
            <h3 style="color: var(--text-white); margin-bottom: 10px;">Message Sent!</h3>
            <p style="color: var(--text-gray); margin-bottom: 25px;">Thank you for reaching out. We'll get back to you
                shortly.</p>
            <button class="btn-primary" onclick="closeContactModal()" style="width: 100%;">Close</button>
        </div>
    </div>

    <script src="js/data.js"></script>
    <script src="js/main.js"></script>
</body>

</html>